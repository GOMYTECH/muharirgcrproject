<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NECO GCE English Quiz</title>
    <style>
        :root {
            --primary: #6e48aa;
            --secondary: #9d50bb;
            --accent: #4776e6;
            --background: #121212;
            --card-bg: #1e1e1e;
            --text: #ffffff;
            --correct: #4caf50;
            --incorrect: #f44336;
            --timer-warning: #ff9800;
            --timer-critical: #f44336;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background);
            color: var(--text);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(110, 72, 170, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(157, 80, 187, 0.15) 0%, transparent 50%);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        h1 {
            color: var(--text);
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(110, 72, 170, 0.3);
        }

        .timer-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }

        .timer {
            font-size: 1.5rem;
            font-weight: bold;
            background: var(--card-bg);
            padding: 10px 20px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .timer-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            z-index: 0;
            transition: width 1s linear;
        }

        .timer-text {
            position: relative;
            z-index: 1;
        }

        .timer.warning {
            color: var(--timer-warning);
        }

        .timer.critical {
            color: var(--timer-critical);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .quiz-container {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
        }

        .question-container {
            display: none;
        }

        .question-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-number {
            color: var(--secondary);
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-bar {
            height: 5px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            width: 100px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.3s ease;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .option {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .option.selected {
            background-color: rgba(110, 72, 170, 0.3);
            border-color: var(--primary);
        }

        .option.correct {
            background-color: rgba(76, 175, 80, 0.3);
            border-color: var(--correct);
        }

        .option.incorrect {
            background-color: rgba(244, 67, 54, 0.3);
            border-color: var(--incorrect);
        }

        .option input {
            display: none;
        }

        .option-label {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .option-letter {
            display: inline-block;
            width: 25px;
            height: 25px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            text-align: center;
            line-height: 25px;
            margin-right: 15px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .option.selected .option-letter {
            background-color: var(--primary);
            color: white;
        }

        .option.correct .option-letter {
            background-color: var(--correct);
            color: white;
        }

        .option.incorrect .option-letter {
            background-color: var(--incorrect);
            color: white;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(110, 72, 170, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(110, 72, 170, 0.4);
        }

        button:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--accent), #4776e6);
        }

        .result-container, .user-info-container {
            display: none;
            text-align: center;
            animation: fadeIn 0.5s ease;
        }

        .result-container.active, .user-info-container.active {
            display: block;
        }

        .score {
            font-size: 3rem;
            font-weight: bold;
            margin: 20px 0;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .percentage {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .correct-answers {
            color: var(--correct);
        }

        .incorrect-answers {
            color: var(--incorrect);
        }

        .corrections {
            margin-top: 30px;
            text-align: left;
        }

        .correction-item {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
        }

        .correction-question {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .user-info-form {
            max-width: 500px;
            margin: 0 auto;
            text-align: left;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        input, textarea {
            width: 100%;
            padding: 12px;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(110, 72, 170, 0.3);
        }

        .start-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .start-btn {
            padding: 15px 40px;
            font-size: 1.2rem;
            margin-top: 30px;
        }

        .quiz-intro {
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .rules {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: left;
        }

        .rules li {
            margin-bottom: 10px;
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            opacity: 0.1;
        }

        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .loading.active {
            display: flex;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: white;
            font-size: 1.2rem;
        }

        .success-message {
            display: none;
            background-color: var(--correct);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            animation: fadeIn 0.5s ease;
        }

        .success-message.active {
            display: block;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .quiz-container {
                padding: 15px;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="floating-particles" id="particles"></div>
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <div class="loading-text">Sending your results...</div>
    </div>
    
    <div class="container">
        <div id="start-screen" class="start-screen">
            <h1>NECO GCE English Quiz</h1>
            <div class="quiz-intro">
                <p>Test your knowledge with this 50-question English quiz covering grammar, vocabulary, comprehension, and more.</p>
                <p>You'll have <strong>30 minutes</strong> to complete all questions.</p>
            </div>
            
            <div class="rules">
                <h3>Quiz Rules:</h3>
                <ul>
                    <li>50 questions total</li>
                    <li>30 minute time limit</li>
                    <li>Timer will be shown during the quiz</li>
                    <li>You can't go back to previous questions</li>
                    <li>Answers will be shown at the end with corrections</li>
                    <li>Results will be sent to your email</li>
                </ul>
            </div>
            
            <button id="start-btn" class="start-btn">Start Quiz</button>
        </div>
        
        <div id="quiz-container" style="display: none;">
            <header>
                <h1>NECO GCE English Quiz</h1>
                <div class="timer-container">
                    <div class="timer" id="timer">
                        <div class="timer-progress" id="timer-progress"></div>
                        <div class="timer-text">Time remaining: 30:00</div>
                    </div>
                </div>
            </header>
            
            <div class="quiz-container">
                <div id="question-container" class="question-container active"></div>
                
                <div class="navigation">
                    <button id="prev-btn" disabled>Previous</button>
                    <button id="next-btn">Next</button>
                    <button id="submit-btn" class="submit-btn" style="display: none;">Submit Quiz</button>
                </div>
            </div>
        </div>
        
        <div id="user-info-container" class="user-info-container">
            <h2>Quiz Completed!</h2>
            <p>Please enter your details to view your results and receive a copy.</p>
            
            <form id="user-info-form" class="user-info-form" action="https://formspree.io/f/xjvnqzkq" method="POST">
                <input type="hidden" name="score" id="form-score">
                <input type="hidden" name="percentage" id="form-percentage">
                <input type="hidden" name="correct_answers" id="form-correct">
                <input type="hidden" name="incorrect_answers" id="form-incorrect">
                <input type="hidden" name="answers_summary" id="form-answers">
                <input type="hidden" name="_subject" value="New Quiz Results Submission">
                <input type="hidden" name="_replyto" id="form-replyto">
                <input type="hidden" name="_cc" value="gomytech1@gmail.com">
                
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="comments">Comments (Optional)</label>
                    <textarea id="comments" name="comments" rows="3"></textarea>
                </div>
                
                <button type="submit" class="submit-btn">View Results</button>
                
                <div class="success-message" id="success-message">
                    Results successfully sent! You can now view your detailed results below.
                </div>
            </form>
        </div>
        
        <div id="result-container" class="result-container">
            <h2>Your Quiz Results</h2>
            <div class="score" id="score">0/50</div>
            <div class="percentage" id="percentage">0%</div>
            <p>You answered <span class="correct-answers" id="correct-count">0</span> questions correctly and <span class="incorrect-answers" id="incorrect-count">0</span> incorrectly.</p>
            
            <div class="corrections" id="corrections"></div>
            
            <button id="restart-btn" class="start-btn">Take Quiz Again</button>
        </div>
    </div>

    <script>
        // Quiz questions data
        const questions = [
            {
                section: "Section A - Grammar & Structure",
                question: "If I had seen you, I ___ to you.",
                options: ["will speak", "would have spoken", "would spoke", "spoke"],
                answer: 1,
                time: 25
            },
            {
                section: "Section A - Grammar & Structure",
                question: "Which sentence is correct?",
                options: [
                    "Neither of the boys have done the work.",
                    "Neither of the boys has done the work.",
                    "Neither of the boys are done with the work.",
                    "Neither of the boys were done with the work."
                ],
                answer: 1,
                time: 25
            },
            {
                section: "Section A - Grammar & Structure",
                question: "The teacher as well as the students ___ happy.",
                options: ["are", "were", "is", "have been"],
                answer: 2,
                time: 25
            },
            {
                section: "Section A - Grammar & Structure",
                question: "I am looking forward ___ you.",
                options: ["to see", "to seeing", "for seeing", "for see"],
                answer: 1,
                time: 25
            },
            {
                section: "Section A - Grammar & Structure",
                question: "The passive form of 'They are building a house' is:",
                options: [
                    "A house is built by them",
                    "A house has been built by them",
                    "A house is being built by them",
                    "A house was being built by them"
                ],
                answer: 2,
                time: 25
            },
            {
                section: "Section A - Grammar & Structure",
                question: "Which sentence is correct?",
                options: [
                    "The news are good.",
                    "The news is good.",
                    "The news were good.",
                    "The news be good."
                ],
                answer: 1,
                time: 25
            },
            {
                section: "Section A - Grammar & Structure",
                question: "You had better ___ the doctor.",
                options: ["see", "seeing", "saw", "seen"],
                answer: 0,
                time: 25
            },
            {
                section: "Section A - Grammar & Structure",
                question: "Which word is correctly spelt?",
                options: ["Occassion", "Ocassion", "Occasion", "Ocasson"],
                answer: 2,
                time: 25
            },
            {
                section: "Section A - Grammar & Structure",
                question: "He has been working here ___ five years.",
                options: ["for", "since", "from", "in"],
                answer: 0,
                time: 25
            },
            {
                section: "Section A - Grammar & Structure",
                question: "Which is correct?",
                options: [
                    "Mathematics are my best subject.",
                    "Mathematics is my best subject.",
                    "Mathematics be my best subject.",
                    "Mathematics were my best subject."
                ],
                answer: 1,
                time: 25
            },
            {
                section: "Section B - Vocabulary",
                question: "The opposite of scarce is:",
                options: ["rare", "plentiful", "small", "enough"],
                answer: 1,
                time: 25
            },
            {
                section: "Section B - Vocabulary",
                question: "A person who studies the stars is called a:",
                options: ["astrologer", "astronomer", "astronaut", "astronautics"],
                answer: 1,
                time: 25
            },
            {
                section: "Section B - Vocabulary",
                question: "The boy was in high spirits means the boy was:",
                options: ["angry", "excited", "drunk", "worried"],
                answer: 1,
                time: 25
            },
            {
                section: "Section B - Vocabulary",
                question: "The synonym of reluctant is:",
                options: ["eager", "unwilling", "quick", "ready"],
                answer: 1,
                time: 25
            },
            {
                section: "Section B - Vocabulary",
                question: "The opposite of hostile is:",
                options: ["friendly", "wicked", "harsh", "cruel"],
                answer: 0,
                time: 25
            },
            {
                section: "Section B - Vocabulary",
                question: "She spoke with tears in her eyes shows she was:",
                options: ["happy", "sad", "angry", "surprised"],
                answer: 1,
                time: 25
            },
            {
                section: "Section B - Vocabulary",
                question: "A person who writes plays is called a:",
                options: ["novelist", "playwright", "author", "poet"],
                answer: 1,
                time: 25
            },
            {
                section: "Section B - Vocabulary",
                question: "To call it a day means:",
                options: [
                    "to stop working",
                    "to rest for the day",
                    "to begin a task",
                    "to wake up early"
                ],
                answer: 0,
                time: 25
            },
            {
                section: "Section B - Vocabulary",
                question: "The synonym of generous is:",
                options: ["kind", "selfish", "rude", "greedy"],
                answer: 0,
                time: 25
            },
            {
                section: "Section B - Vocabulary",
                question: "The opposite of transparent is:",
                options: ["clear", "opaque", "pure", "clean"],
                answer: 1,
                time: 25
            },
            {
                section: "Section C - Comprehension",
                question: "Read the passage below and answer: Ada had always loved reading. She would spend hours in the library, surrounded by books of every kind. Her friends often teased her for not joining them to play outside, but Ada didn't mind. She believed that books could take her to places she had never been, and teach her things she would never learn elsewhere. Where did Ada spend most of her time?",
                options: [
                    "At home",
                    "In the library",
                    "In the park",
                    "At school"
                ],
                answer: 1,
                time: 30
            },
            {
                section: "Section C - Comprehension",
                question: "Why did her friends tease her?",
                options: [
                    "She played too much",
                    "She didn't play outside with them",
                    "She read the wrong books",
                    "She was always late"
                ],
                answer: 1,
                time: 30
            },
            {
                section: "Section C - Comprehension",
                question: "What did Ada believe books could do?",
                options: [
                    "Make her famous",
                    "Take her to new places and teach her",
                    "Help her make friends",
                    "Give her money"
                ],
                answer: 1,
                time: 30
            },
            {
                section: "Section C - Comprehension",
                question: "How did Ada feel about the teasing?",
                options: [
                    "She ignored it",
                    "She was angry",
                    "She cried",
                    "She stopped reading"
                ],
                answer: 0,
                time: 30
            },
            {
                section: "Section C - Comprehension",
                question: "What word best describes Ada?",
                options: ["Lazy", "Book-loving", "Proud", "Unfriendly"],
                answer: 1,
                time: 30
            },
            {
                section: "Section D - Sentence Completion",
                question: "I have no money, and ___ have you.",
                options: ["so", "neither", "nor", "either"],
                answer: 1,
                time: 25
            },
            {
                section: "Section D - Sentence Completion",
                question: "The dog ran ___ the road.",
                options: ["across", "beside", "among", "upon"],
                answer: 0,
                time: 25
            },
            {
                section: "Section D - Sentence Completion",
                question: "We went to the market to buy fruits, vegetables, and ___.",
                options: ["bread", "books", "shoes", "clothes"],
                answer: 0,
                time: 25
            },
            {
                section: "Section D - Sentence Completion",
                question: "The book is mine, ___?",
                options: ["is it", "isn't it", "is not it", "it isn't"],
                answer: 1,
                time: 25
            },
            {
                section: "Section D - Sentence Completion",
                question: "He was absent ___ he was ill.",
                options: ["because", "but", "although", "unless"],
                answer: 0,
                time: 25
            },
            {
                section: "Section D - Sentence Completion",
                question: "___ is knocking at the door?",
                options: ["Whose", "Who", "Whom", "Which"],
                answer: 1,
                time: 25
            },
            {
                section: "Section D - Sentence Completion",
                question: "We arrived ___ the airport on time.",
                options: ["to", "in", "at", "into"],
                answer: 2,
                time: 25
            },
            {
                section: "Section D - Sentence Completion",
                question: "It's high time we ___ home.",
                options: ["go", "went", "gone", "going"],
                answer: 1,
                time: 25
            },
            {
                section: "Section D - Sentence Completion",
                question: "The manager insisted ___ the work immediately.",
                options: ["to do", "on doing", "in doing", "for doing"],
                answer: 1,
                time: 25
            },
            {
                section: "Section D - Sentence Completion",
                question: "Do you mind ___ the window?",
                options: ["close", "closing", "closed", "to close"],
                answer: 1,
                time: 25
            },
            {
                section: "Section E - Lexis & Structure",
                question: "Which of these is a correct proverb?",
                options: [
                    "All that glitters is not gold.",
                    "All that glitter are not gold.",
                    "All that glitter is not gold.",
                    "All that glitters are not gold."
                ],
                answer: 0,
                time: 25
            },
            {
                section: "Section E - Lexis & Structure",
                question: "Choose the correct word: He has been ill ___ last week.",
                options: ["since", "for", "from", "in"],
                answer: 0,
                time: 25
            },
            {
                section: "Section E - Lexis & Structure",
                question: "The plural of analysis is:",
                options: ["analyses", "analysis", "analysises", "analys"],
                answer: 0,
                time: 25
            },
            {
                section: "Section E - Lexis & Structure",
                question: "Which is correct?",
                options: [
                    "I look forward to meet you.",
                    "I look forward to meeting you.",
                    "I look forward meeting you.",
                    "I look forward meet you."
                ],
                answer: 1,
                time: 25
            },
            {
                section: "Section E - Lexis & Structure",
                question: "Which of these is a collective noun?",
                options: ["Team", "Run", "Beautiful", "Teacher"],
                answer: 0,
                time: 25
            },
            {
                section: "Section E - Lexis & Structure",
                question: "A person who repairs shoes is a:",
                options: ["cobbler", "tailor", "plumber", "mason"],
                answer: 0,
                time: 25
            },
            {
                section: "Section E - Lexis & Structure",
                question: "Which of these is a synonym for begin?",
                options: ["stop", "commence", "delay", "cancel"],
                answer: 1,
                time: 25
            },
            {
                section: "Section E - Lexis & Structure",
                question: "Which is the correct comparative form of good?",
                options: ["gooder", "more good", "better", "best"],
                answer: 2,
                time: 25
            },
            {
                section: "Section E - Lexis & Structure",
                question: "Which is correct?",
                options: [
                    "The cattle is grazing.",
                    "The cattle are grazing.",
                    "The cattles are grazing.",
                    "The cattle be grazing."
                ],
                answer: 1,
                time: 25
            },
            {
                section: "Section E - Lexis & Structure",
                question: "Do not put all your eggs in one basket means:",
                options: [
                    "Don't eat too many eggs",
                    "Don't depend on only one source",
                    "Keep eggs in a safe place",
                    "Share eggs with people"
                ],
                answer: 1,
                time: 25
            },
            {
                section: "Section F - Idioms & Usage",
                question: "He kicked the bucket means he:",
                options: ["played football", "died", "fell down", "travelled"],
                answer: 1,
                time: 25
            },
            {
                section: "Section F - Idioms & Usage",
                question: "The ball is in your court means:",
                options: [
                    "You are playing tennis",
                    "You have to make the next move",
                    "The game has started",
                    "You lost the game"
                ],
                answer: 1,
                time: 25
            },
            {
                section: "Section F - Idioms & Usage",
                question: "A blessing in disguise means:",
                options: [
                    "Something that looks bad but is good",
                    "Something that is holy",
                    "A hidden gift",
                    "An unexpected prayer"
                ],
                answer: 0,
                time: 25
            },
            {
                section: "Section F - Idioms & Usage",
                question: "Burning the midnight oil means:",
                options: [
                    "Staying up late working or studying",
                    "Wasting fuel",
                    "Lighting a fire",
                    "Cooking at night"
                ],
                answer: 0,
                time: 25
            },
            {
                section: "Section F - Idioms & Usage",
                question: "Once in a blue moon means:",
                options: ["Frequently", "Rarely", "Never", "Always"],
                answer: 1,
                time: 25
            }
        ];

        // Quiz variables
        let currentQuestion = 0;
        let userAnswers = Array(questions.length).fill(null);
        let score = 0;
        let timeLeft = 30 * 60; // 30 minutes in seconds
        let timerInterval;
        let quizStarted = false;

        // DOM elements
        const startScreen = document.getElementById('start-screen');
        const quizContainer = document.getElementById('quiz-container');
        const questionContainer = document.getElementById('question-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const timerElement = document.getElementById('timer');
        const timerProgress = document.getElementById('timer-progress');
        const userInfoContainer = document.getElementById('user-info-container');
        const resultContainer = document.getElementById('result-container');
        const scoreElement = document.getElementById('score');
        const percentageElement = document.getElementById('percentage');
        const correctCountElement = document.getElementById('correct-count');
        const incorrectCountElement = document.getElementById('incorrect-count');
        const correctionsElement = document.getElementById('corrections');
        const userInfoForm = document.getElementById('user-info-form');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const loadingScreen = document.getElementById('loading');
        const successMessage = document.getElementById('success-message');
        const formScore = document.getElementById('form-score');
        const formPercentage = document.getElementById('form-percentage');
        const formCorrect = document.getElementById('form-correct');
        const formIncorrect = document.getElementById('form-incorrect');
        const formAnswers = document.getElementById('form-answers');
        const formReplyTo = document.getElementById('form-replyto');

        // Start quiz
        startBtn.addEventListener('click', startQuiz);
        restartBtn.addEventListener('click', restartQuiz);

        function startQuiz() {
            startScreen.style.display = 'none';
            quizContainer.style.display = 'block';
            quizStarted = true;
            startTimer();
            showQuestion(currentQuestion);
        }

        function restartQuiz() {
            currentQuestion = 0;
            userAnswers = Array(questions.length).fill(null);
            score = 0;
            timeLeft = 30 * 60;
            
            resultContainer.classList.remove('active');
            userInfoContainer.classList.remove('active');
            startScreen.style.display = 'block';
            
            // Reset timer display
            updateTimerDisplay();
        }

        // Timer functions
        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                timeLeft = 0;
                submitQuiz();
                return;
            }
            
            timeLeft--;
            updateTimerDisplay();
            
            // Change timer color when time is running low
            if (timeLeft <= 5 * 60 && timeLeft > 2 * 60) {
                timerElement.classList.add('warning');
                timerElement.classList.remove('critical');
            } else if (timeLeft <= 2 * 60) {
                timerElement.classList.remove('warning');
                timerElement.classList.add('critical');
            }
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const formattedTime = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Update timer text
            timerElement.querySelector('.timer-text').textContent = `Time remaining: ${formattedTime}`;
            
            // Update progress bar
            const totalTime = 30 * 60;
            const progressPercentage = (timeLeft / totalTime) * 100;
            timerProgress.style.width = `${progressPercentage}%`;
        }

        // Question navigation
        function showQuestion(index) {
            if (index < 0 || index >= questions.length) return;
            
            currentQuestion = index;
            
            // Update navigation buttons
            prevBtn.disabled = index === 0;
            nextBtn.disabled = false;
            submitBtn.style.display = index === questions.length - 1 ? 'block' : 'none';
            
            // Display question
            const question = questions[index];
            questionContainer.innerHTML = `
                <div class="question-number">
                    <span>${question.section} - Question ${index + 1} of ${questions.length}</span>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${((index + 1) / questions.length) * 100}%"></div>
                    </div>
                </div>
                <div class="question-text">${question.question}</div>
                <div class="options">
                    ${question.options.map((option, i) => `
                        <div class="option ${userAnswers[index] === i ? 'selected' : ''}" data-index="${i}">
                            <div class="option-label">
                                <span class="option-letter">${String.fromCharCode(65 + i)}</span>
                                <span>${option}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            // Add event listeners to options
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', () => {
                    // Remove selected class from all options
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    option.classList.add('selected');
                    
                    // Save user's answer
                    userAnswers[index] = parseInt(option.dataset.index);
                });
            });
        }

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < questions.length - 1) {
                showQuestion(currentQuestion + 1);
            }
        });

        submitBtn.addEventListener('click', submitQuiz);

        function submitQuiz() {
            clearInterval(timerInterval);
            quizContainer.style.display = 'none';
            userInfoContainer.classList.add('active');
            
            // Calculate score
            score = 0;
            for (let i = 0; i < questions.length; i++) {
                if (userAnswers[i] === questions[i].answer) {
                    score++;
                }
            }
        }

        // User info form submission
        userInfoForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const comments = document.getElementById('comments').value;
            
            // Prepare the answers summary
            let answersSummary = '';
            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.answer;
                answersSummary += `
                    Question ${index + 1}: ${question.question}
                    Your answer: ${userAnswer !== null ? question.options[userAnswer] : 'Not answered'} (${isCorrect ? 'Correct' : 'Incorrect'})
                    ${!isCorrect ? `Correct answer: ${question.options[question.answer]}\n` : '\n'}
                `;
            });
            
            // Set form values
            const percentage = Math.round((score / questions.length) * 100);
            formScore.value = `${score}/${questions.length}`;
            formPercentage.value = `${percentage}%`;
            formCorrect.value = score;
            formIncorrect.value = questions.length - score;
            formAnswers.value = answersSummary;
            formReplyTo.value = email;
            
            // Show loading screen
            loadingScreen.classList.add('active');
            
            try {
                // Submit the form using Formspree
                const formData = new FormData(userInfoForm);
                const response = await fetch('https://formspree.io/f/mdkdbkny', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    // Show success message
                    successMessage.classList.add('active');
                    
                    // Show results after a brief delay
                    setTimeout(() => {
                        loadingScreen.classList.remove('active');
                        showResults();
                    }, 1500);
                } else {
                    throw new Error('Form submission failed');
                }
            } catch (error) {
                console.error('Error submitting form:', error);
                alert('There was an error submitting your results. Please try again.');
                loadingScreen.classList.remove('active');
            }
        });

        function showResults() {
            userInfoContainer.classList.remove('active');
            resultContainer.classList.add('active');
            
            // Display score
            const percentage = Math.round((score / questions.length) * 100);
            scoreElement.textContent = `${score}/${questions.length}`;
            percentageElement.textContent = `${percentage}%`;
            correctCountElement.textContent = score;
            incorrectCountElement.textContent = questions.length - score;
            
            // Display corrections
            correctionsElement.innerHTML = '';
            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.answer;
                const correctionItem = document.createElement('div');
                correctionItem.className = `correction-item ${isCorrect ? 'correct' : 'incorrect'}`;
                
                correctionItem.innerHTML = `
                    <div class="correction-question">${index + 1}. ${question.question}</div>
                    <p>Your answer: ${userAnswer !== null ? question.options[userAnswer] : 'Not answered'} 
                    <span class="${isCorrect ? 'correct-answers' : 'incorrect-answers'}">(${isCorrect ? 'Correct' : 'Incorrect'})</span></p>
                    ${!isCorrect ? `<p>Correct answer: ${question.options[question.answer]}</p>` : ''}
                `;
                
                correctionsElement.appendChild(correctionItem);
            });
        }

        // Floating particles effect
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 20;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Random size between 2px and 6px
                const size = Math.random() * 4 + 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // Random position
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                
                // Random animation
                const duration = Math.random() * 20 + 10;
                particle.style.animation = `float ${duration}s linear infinite`;
                
                // Add to container
                particlesContainer.appendChild(particle);
            }
        }

        // Initialize
        createParticles();
    </script>
</body>
</html>